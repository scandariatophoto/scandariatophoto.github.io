---
layout: default
---

{% for post in paginator.posts %}

<div class="post">

  <header class="post-header">
    <h1 class="post-title"><a class="post-title" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a></h1>
    <p class="post-subtitle">{{ post.date | date: "%B %-d, %Y" }}</p>
  </header>

  <article class="post-content">

	{{ post.excerpt }}
	
    {% capture content_words %} 
      {{ post.content | number_of_words }} 
    {% endcapture %} 
    {% capture excerpt_words %} 
      {{ post.excerpt | number_of_words }} 
    {% endcapture %} 
    {% if excerpt_words != content_words %}
    <p><a href="{{ post.url }}">Read more <i class="fas fa-arrow-circle-right"></i></a>
    </p>
    {% endif %}
	
  </article>

  <br/>
  <br/>
</div>

{% endfor %}

<!-- Messy code for pagination trail -->

{% if paginator.total_pages > 1 %}

	{% assign page = paginator.page %}
	{% assign total_pages = paginator.total_pages %}

	{% assign lo = page | minus: 2 %}
	{% assign hi = page | plus:  2 %}

	{% if lo == 0 %}
	  {% assign lo = 1 %}
	  {% assign hi = hi | plus: 1 %}
	  {% if hi > total_pages %}
	    {% assign hi = total_pages %}
	  {% endif %}
	{% elsif lo == -1 %}
	  {% assign lo = 1 %}
	  {% assign hi = hi | plus: 2 %}
	  {% if hi > total_pages %}
	    {% assign hi = total_pages %}
	  {% endif %}
	{% endif %}

	{% assign tmp1 = total_pages | plus: 1 %}
	{% assign tmp2 = total_pages | plus: 2 %}
	{% if hi == tmp1 %}
	  {% assign hi = total_pages %}
	  {% assign lo = lo | minus: 1 %}
	  {% if lo < 1 %}
	    {% assign lo = 1 %}
	  {% endif %}
	{% elsif hi == tmp2 %}
	  {% assign hi = total_pages %}
	  {% assign lo = lo | minus: 2 %}
	  {% if lo < 1 %}
	    {% assign lo = 1 %}
	  {% endif %}
	{% endif %}
	
  <div style="text-align: center">
	  
  {% if paginator.page > 3 %}
  <a href="/" 
	 class="trail-other-page"><i class="fa fa-angle-double-left"></i></a>
  {% endif %}
  
  {% for i in (lo..hi) %}
  
	  {% if paginator.page == i %}
		  <a href="" class="trail-current-page">{{ i }}</a>		 
	  {% else %}
	      {% if i == 1 %}
		    <a href="/" class="trail-other-page">{{ i }}</a>
		  {% else %}
		    <a href="/blog/page{{i}}" class="trail-other-page">{{ i }}</a>
		  {% endif %}
	  {% endif %}
	 
  {% endfor %}
  
  {% assign tmp = paginator.total_pages | minus: 2 %}
  {% if paginator.page  < tmp %}
  <a href="/blog/page{{ paginator.total_pages }}" 
	 class="trail-other-page"><i class="fa fa-angle-double-right"></i></a>
  {% endif %}
  
  </div>

{% endif %}
